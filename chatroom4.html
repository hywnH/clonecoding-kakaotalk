<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
    <title>Chat 4 | kakao clone</title>
    <link rel="stylesheet" href="chatroom-style.css">
  </head>
  <script>
    function react(text){
      var today = new Date();
      var hour = today.getHours();
      if (hour < 10){
        hour = '0'+hour;
      }
      var minute = today.getMinutes();
      if (minute < 10){
        minute = '0'+minute;
      }
      var time = hour + ":" + minute;
      var otherchat = document.createElement('div')
      otherchat.className = "friend";
      otherchat.innerHTML ='<div class="profilepic"><img src="profilepic.svg" width="40px">\
        </div><div class="message">'+text+'</div><div class="lasttalk">'+time+'</div>';
      document.getElementById('UserChat').appendChild(otherchat);
    }
    function addmessage(text){
      var chatBlock = document.createElement('div')
      chatBlock.className = "userchat";
      chatBlock.innerHTML = '<div></div>' + '<div class="text">'+ text + '</div>' + '<div></div>';
      document.getElementById('UserChat').appendChild(chatBlock);
    }
    function send(){
      if (document.getElementById('tosend').value !== ''){
        toSend = document.getElementById('tosend').value;
        addmessage(toSend);
        document.getElementById('tosend').value = '';}
      if (toSend.includes('안녕')){
        setTimeout(function(){react('왜 또 왔담?!')}, 1000);
      }else if (toSend.includes('ㅠ')){
        setTimeout(function(){react('ㅠㅠ...')}, 1000);
      }else if (toSend.includes('이름')){
        setTimeout(function(){react('Friend 4')}, 1000);
      }
    }
  </script>
  <body>
    <header>
      <div> </div>
      <div>Chat 4</div>
    </header>
    <main>
      <div class="friend">
        <div class="profilepic"><img src="profilepic.svg" width="40px"></div>
        <div class="message">Good bye.</div>
        <div class="lasttalk">00:00</div>
      </div>
      <div id="UserChat">
      </div>
    </main>
    <footer>
      <div> </div>
      <div class="input" onkeydown="
        if (window.event.keyCode == 13){
          send()
        }">
        <input type="text" id="tosend">
      </div>
      <div class="send">
        <button type="button" onclick=send()>
        <img src="uparrow.svg" width="20px"></button>
      </div>
    </footer>
  </body>
</html>
